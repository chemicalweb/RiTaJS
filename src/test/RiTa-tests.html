<!-- $Id: RiTa-tests.html,v 1.65 2012/07/05 19:31:08 dev Exp $ -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
<link rel="stylesheet" href="rita-test.css" type="text/css" media="screen"/>
<script type="text/javascript" src="../../lib/jquery.js"></script>
<script type="text/javascript" src="../../lib/qunit-git.js"></script>

<script type="text/javascript" src="../rita_dict.js"></script>
<script type="text/javascript" src="../rita.js"></script>
<script>

var functions = [
    "isAbbreviation"
    , "isQuestion"
    , "isSentenceEnd"
    , "isW_Question"
    , "randomOrdering"
    , "removeRandom"
    , "splitSentences"
    , "stripPunctuation"
    , "trimPunctuation"
    , "isPunctuation"
    , "tokenize"
    , "trim"
    , "distance"
    , "random"
    , "getPhonemes"
    , "getPosTags"
    , "getPosTagsInline"
    , "getStresses"
    , "getSyllables"
    , "getWordCount"
    , "posToWordNet"
    , "conjugate"
    , "getPastParticiple"
    , "getPresentParticiple"
    , "stem"
    , "pluralize"
    , "singularize"
    , "timer" 
    , "random"
    , "p5Compatible"
    , "untokenize" 
];

$(document).ready(function () {

    test("RiTa.functions", function () {
        for (var i = 0; i < functions.length; i++) {
            equal(typeof RiTa[functions[i]], 'function', functions[i]);
        }
    });

    test("RiTa.CONSTANTS", function () {

        ok(RiTa.VERSION > 0);
    });
    
    test("RiTa.isAbbreviation()", function () {

        ok(RiTa.isAbbreviation("Dr."));
        ok(RiTa.isAbbreviation("dr.")); //T in processing
        
        ok(!RiTa.isAbbreviation("DR.")); // F in Processing.lowercase is true but uppercase is false
        ok(!RiTa.isAbbreviation("Dr. ")); //space
        ok(!RiTa.isAbbreviation(" Dr.")); //space
        ok(!RiTa.isAbbreviation("  Dr.")); //double space
        ok(!RiTa.isAbbreviation("Dr.  ")); //double space
        ok(!RiTa.isAbbreviation("	Dr.")); //tab space
        ok(!RiTa.isAbbreviation("Dr.	")); //tab space
        ok(!RiTa.isAbbreviation("Dr"));
        ok(!RiTa.isAbbreviation("Doctor"));
        ok(!RiTa.isAbbreviation("Doctor."));

        ok(RiTa.isAbbreviation("Prof."));
        ok(RiTa.isAbbreviation("prof.")); //T in processing
        ok(!RiTa.isAbbreviation("PRFO.")); //  F in Processing. lowercase is true but uppercase is false
        ok(!RiTa.isAbbreviation("PrFo.")); //  F in Processing. lowercase is true but uppercase is false
        ok(!RiTa.isAbbreviation("Professor"));
        ok(!RiTa.isAbbreviation("professor"));
        ok(!RiTa.isAbbreviation("PROFESSOR"));
        ok(!RiTa.isAbbreviation("Professor."));

        ok(!RiTa.isAbbreviation("@#$%^&*()"));

        ok(!RiTa.isAbbreviation(""));
        ok(!RiTa.isAbbreviation(null));
        ok(!RiTa.isAbbreviation(undefined));
        ok(!RiTa.isAbbreviation(1));
    });

 test("RiTa.isQuestion()", function () { 
        
        ok(RiTa.isQuestion("what"));
        ok(RiTa.isQuestion("what"));
        ok(RiTa.isQuestion("what is this"));
        ok(RiTa.isQuestion("what is this?"));
        ok(RiTa.isQuestion("Does it?"));
        ok(RiTa.isQuestion("Is this yours?"));
        
        ok(RiTa.isQuestion("Are you done?")); // if "is" is true, "Are" should also be True (NICE!)

        ok(RiTa.isQuestion("what is  this?")); //extra space     
        ok(RiTa.isQuestion(" what is this? ")); //extra space     
        ok(RiTa.isQuestion("what is   this?")); //extra double space
        ok(RiTa.isQuestion("what	is	this?")); //extra tab
        ok(RiTa.isQuestion("what is this? , where is that?"));
        ok(!RiTa.isQuestion("That is not a toy This is an apple"));
        ok(!RiTa.isQuestion("string"));
        ok(!RiTa.isQuestion("?"));
        ok(!RiTa.isQuestion(""));

        });

 test("RiTa.isSentenceEnd()", function () {

     var words = 'The dog ate the small baby. Then it threw up.'.split(' ');
     ok(RiTa.isSentenceEnd(words[5], words[6])); // true
     ok(!RiTa.isSentenceEnd(words[3], words[4])); // false
     ok(!RiTa.isSentenceEnd(words[6], words[7])); // false
     ok(!RiTa.isSentenceEnd('','')); // false

 });

 test("RiTa.isW_Question()", function () {

     ok(RiTa.isW_Question("What the"));
     ok(RiTa.isW_Question("What is it"));
     ok(RiTa.isW_Question("how is it?"));
     ok(RiTa.isW_Question("will is it."));
     ok(RiTa.isW_Question("Where is it?"));
     ok(RiTa.isW_Question("How is it."));

     ok(!RiTa.isW_Question("Does it?"));
     ok(!RiTa.isW_Question("Is this yours?"));
     ok(!RiTa.isW_Question("Are you done?")); 
     ok(!RiTa.isW_Question("")); 
     
 });

 test("RiTa.randomOrdering()", function () {

     var result = RiTa.randomOrdering(5);
     equal(result.length,5);

     var result = RiTa.randomOrdering(50);
     equal(result.length,50);

     var obj = {};
     for (var i = 0; i < result.length; i++) {
         ok(!obj.hasOwnPropery(i+''));
         obj[i+''] = i+'';    
     }
 });

 test("RiTa.removeRandom()", function () { 
     var result = ["I", "have", "no", "idea", "on", "this", "method"];
     var input = ["I", "have", "no", "idea", "on", "this", "method"];
     RiTa.removeRandom(result);
     equal(result.length , input.length - 1);

     var result = ["I", " ", "no", "idea", "*%", "this", "method"];
     var input = ["I", " ", "no", "idea", "*%", "this", "method"];
     RiTa.removeRandom(result);
     equal(result.length , input.length - 1);

 });

 test("RiTa.splitSentences()", function () {

     // TODO: check Penn-Treebank splitting rules
     var input = "Stealth's Open Frame, OEM style LCD monitors are designed for special mounting applications. The slim profile packaging provides an excellent solution for building into kiosks, consoles, machines and control panels. If you cannot find an off the shelf solution call us today about designing a custom solution to fit your exact needs.";
     var expected = ["Stealth's Open Frame, OEM style LCD monitors are designed for special mounting applications.", "The slim profile packaging provides an excellent solution for building into kiosks, consoles, machines and control panels.", "If you cannot find an off the shelf solution call us today about designing a custom solution to fit your exact needs."];
     var output = RiTa.splitSentences(input);
     deepEqual(output, expected);

     var input = "\"The boy went fishing.\", he said. Then he went away.";
     var expected = ["\"The boy went fishing.\", he said.", "Then he went away."];
     var output = RiTa.splitSentences(input);
     deepEqual(output, expected);

     var input = "The dog";
     var output = RiTa.splitSentences(input);
     deepEqual(output, [input]);

     var input = "I guess the dog ate the baby.";
     var output = RiTa.splitSentences(input);
     deepEqual(output, [input]);

     var input = "Oh my god, the dog ate the baby!";
     var output = RiTa.splitSentences(input);
     var expected = ["Oh my god, the dog ate the baby!"];
     deepEqual(output, expected);

     var input = "Which dog ate the baby?"
         var output = RiTa.splitSentences(input);
     var expected = ["Which dog ate the baby?"];
     deepEqual(output, expected);

     var input = "'Yes, it was a dog that ate the baby', he said."
         var output = RiTa.splitSentences(input);
     var expected = ["\'Yes, it was a dog that ate the baby\', he said."];
     deepEqual(output, expected);

     // always do these three
     deepEqual(RiTa.splitSentences(""), [""]);

   
 });

 test("RiTa.stripPunctuation()", function () {

     //strip/trimPunctuation "þýœâþýþý™âþý`',;:!?)([].#\"\\!@$%&}<>|+=-_\\/*{^
     var res = RiTa.stripPunctuation("$%He%^&ll,o,");
     equal(res, "Hello");

     deepEqual(RiTa.stripPunctuation(""), [""]);

     var res = RiTa.stripPunctuation("þýœâþýþý™âþý`',;:!?)He,;:!?)([].#l\"\\!@$%&}<>|+$%&}<>|+=-_\\o}<>|+=-_\\/*{^");
     equal(res, "Hello"); // TODO: recheck

 });

 test("RiTa.trimPunctuation()", function () {

     //strip/trimPunctuation "þýœâþýþý™âþý`',;:!?)([].#\"\\!@$%&}<>|+=-_\\/*{^
     var res = RiTa.trimPunctuation("$%He&^ll,o,");
     equal(res, "He&^ll,o");

     var res = RiTa.trimPunctuation("þýœâþýþý™âþý`He&^ll,o\!@$%&}<>|+=-_\\/*{^");
     equal(res, "He&^ll,o");

     var res = RiTa.trimPunctuation("\"\\!@$%&}<>|+=-_\\/*{^He&^ll,o\!@$%&}<>|+=-_\\/*{^");
     equal(res, "He&^ll,o");

     deepEqual(RiTa.trimPunctuation(""), "");
     
     deepEqual(RiTa.trimPunctuation(1234), 1234); 

 });

 test("RiTa.isPunctuation()", function () {

     ok(!RiTa.isPunctuation("What the"));
     ok(!RiTa.isPunctuation("What ! the"));
     ok(!RiTa.isPunctuation(".#\"\\!@i$%&}<>"));

     ok(RiTa.isPunctuation("!"));

     ok(!RiTa.isPunctuation("! ")); //space
     ok(!RiTa.isPunctuation(" !")); //space
     ok(!RiTa.isPunctuation("!  ")); //double space
     ok(!RiTa.isPunctuation("  !")); //double space
     ok(!RiTa.isPunctuation("!	")); //tab space
     ok(!RiTa.isPunctuation("	!")); //tab space
     ok(RiTa.isPunctuation("?"));
     ok(RiTa.isPunctuation("?!"));
     ok(RiTa.isPunctuation("."));
     ok(RiTa.isPunctuation(".."));
     ok(RiTa.isPunctuation("..."));
     ok(RiTa.isPunctuation("...."));
     ok(RiTa.isPunctuation("%..."));
     var punct = '$%&^,';
     for (var i = 0; i < punct.length; i++) {
         ok(RiTa.isPunctuation(punct[i]));
     }

     var punct = ",;:!?)([].#\"\\!@$%&}<>|+=-_\\/*{^";
     for (var i = 0; i < punct.length; i++) {
         ok(RiTa.isPunctuation(punct[i]), punct[i]);
     }

     // TODO: also test multiple characters strings here ****
     var punct = "\"¡§¡¨¡¦¡¥`'";
     for (var i = 0; i < punct.length; i++) {
         ok(RiTa.isPunctuation(punct[i]), punct[i]);
     }

     var punct = "\"¡§¡¨¡¦¡¥`',;:!?)([].#\"\\!@$%&}<>|+=-_\\/*{^";
     for (var i = 0; i < punct.length; i++) {
         ok(RiTa.isPunctuation(punct[i]), punct[i]);
     }


     // TODO: and here...
     var nopunct = 'Helloasdfnals  FgG   \t kjdhfakjsdhf askjdfh aaf98762348576';
     for (var i = 0; i < nopunct.length; i++) {
         ok(!RiTa.isPunctuation(nopunct[i]), nopunct[i]);
     }

     ok(!RiTa.isPunctuation(""));

 });

 test("RiTa.tokenize()", function () {

     var input = "The boy, dressed in red, ate an apple.";
     var expected = ["The", "boy", ",", "dressed", "in", "red", ",", "ate", "an", "apple", "."];
     var output = RiTa.tokenize(input);
     deepEqual(output, expected);

     var input = "The boy screamed, 'Where is my apple?'";
     //'Where is one word here, same result as Processing (TODO: THIS IS INCORRECT IN BOTH)
     var expected = ["The", "boy", "screamed", ",", "'Where", "is", "my", "apple", "?", "'"]; 
     var output = RiTa.tokenize(input);
     deepEqual(output, expected);

     var input = "why? Me?huh?!";
     var expected = ["why", "?", "Me", "?", "huh", "?", "!"];
     var output = RiTa.tokenize(input);
     deepEqual(output, expected);

     var input = "123 123 1 2 3 1,1 1.1 23.45.67 22/05/2012 12th May,2012";
     var expected = ["123", "123", "1", "2", "3", "1", ",", "1", "1",".","1", "23",".","45",".","67", "22/05/2012", "12th", "May", ",", "2012"];
     var output = RiTa.tokenize(input);
     deepEqual(output, expected);

     // TODO: check Penn-Treebank tokenizer rules & add some more edge cases
     var inputs = ["A simple sentence.", 
                   "that's why this is our place).",
                  ];
     
     var outputs = [
                     ["A", "simple", "sentence", "."],
                     ["that's", "why", "this", "is", "our", "place",")","."],
                   ];

     ok(inputs.length == outputs.length);

     for (var i = 0; i < inputs.length; i++) {
         var result = RiTa.tokenize(inputs[i]);
         deepEqual(result, outputs[i]);
     }

     deepEqual(RiTa.tokenize(""), [""]);

     
     var input = "Dr. Chan is talking slowly with Mr. Cheng, and they're friends.";
     //'Where is one word here, same result as Processing (TODO: CHECK THIS, DON'T WE MATCH ABBREVIATIONS??)
     var expected = ["Dr.", "Chan", "is", "talking", "slowly", "with", "Mr.", "Cheng", ",", "and", "they're", "friends", "."];
     var output = RiTa.tokenize(input);
     deepEqual(output, expected);
 });

 test("RiTa.trim()", function () {

     equal(RiTa.trim(""), "");
     equal(RiTa.trim(" "), "");
     equal(RiTa.trim("hello "), "hello");
     equal(RiTa.trim("hel'lo "), "hel'lo");
     equal(RiTa.trim(" hel o"), "hel o");
     equal(RiTa.trim(" hello "), "hello");
     equal(RiTa.trim("'hell' "), "'hell'");
     equal(RiTa.trim("'hello	"), "'hello"); //tab
     equal(RiTa.trim("  hello  "), "hello"); //multiple
     equal(RiTa.trim(" 	hello	 "), "hello"); //mixed
    
 });

    test("RiTa.distance()", function () { 
    	equal(1, RiTa.distance(1,3,2,3));
		equal(28, RiTa.distance(30,1,2,1));
		equal(5.656854249492381, RiTa.distance(0,0,4,4));
        equal(5.0990195135927845, RiTa.distance(3,3,8,4));
       
    });
	
	    test("RiTa.random()", function () { 
    	var answer = RiTa.random();
        ok(answer >=0,answer);
		var answer2 = RiTa.random();
		ok(answer2 <=1, answer2);
        
    });
 
 test("RiTa.getPhonemes()", function () { 

     var result = RiTa.getPhonemes("The");
     var answer = "dh-ax";
     equal(result, answer);

     var result = RiTa.getPhonemes("The.");
     var answer = "dh-ax";
     equal(result, answer);

     var result = RiTa.getPhonemes("The boy jumped over the wild dog.");
     var answer = "dh-ax b-oy jh-ah-m-p-t ow-v-er dh-ax w-ay-l-d d-ao-g";
     equal(result, answer);

     var result = RiTa.getPhonemes("The boy ran to the store.");
     var answer = "dh-ax b-oy r-ae-n t-uw dh-ax s-t-ao-r";
     equal(result, answer);

     var result = RiTa.getPhonemes("");
     var answer = "";
     equal(result, answer);

     raises(function () {
         try {
             RiTa.getPhonemes(1234);
         } catch (e) {
             throw e;
         }
     });

 });


 test("RiTa.getPosTags()", function () {
     
     var result = RiTa.getPosTags("asfaasd");
     var answer = ["nn"];
     deepEqual(result, answer);

     var result = RiTa.getPosTags("clothes");
     var answer = ["nns"];
     deepEqual(result, answer);

     var result = RiTa.getPosTags("There is a cat.");
     var answer = ["ex", "vbz", "dt", "nn", "."];
     deepEqual(result, answer);

     var result = RiTa.getPosTags("The boy, dressed in red, ate an apple.");
     var answer = ["dt", "nn", ",", "vbn", "in", "jj", ",", "vbd", "dt", "nn", "."];
     deepEqual(result, answer);

     var result = RiTa.getPosTags("");
     var answer = [];
     deepEqual(result, answer);

 });

 test("RiTa.getPosTagsInline()", function () { 
     var result = RiTa.getPosTagsInline("asdfaasd");
     var answer = "nn";
     deepEqual(result, answer);

     var result = RiTa.getPosTagsInline("clothes");
     var answer = "nns";
     deepEqual(result, answer);

     var result = RiTa.getPosTagsInline("There is a cat.");
     var answer = "ex vbz dt nn .";
     deepEqual(result, answer);

     var result = RiTa.getPosTagsInline("The boy, dressed in red, ate an apple.");
     var answer = "dt nn , vbn in jj , vbd dt nn .";
     deepEqual(result, answer);

     var result = RiTa.getPosTagsInline("");
     var answer = "";
     deepEqual(result, answer);

 });

 test("RiTa.getStresses()", function () {

     var result = RiTa.getStresses("The emperor had no clothes on");
     var answer = "0 1/0/0 1 1 1 1";
     equal(result, answer);

     var result = RiTa.getStresses("The emperor had no clothes on.");
     var answer = "0 1/0/0 1 1 1 1";
     equal(result, answer);

     var result = RiTa.getStresses("The emperor had no clothes on. The King is fat.");
     var answer = "0 1/0/0 1 1 1 1 0 1 1 1";
     equal(result, answer);

     var result = RiTa.getStresses("to preSENT, to exPORT, to deCIDE, to beGIN");
     var answer = "1 0/1 1 0/1 1 0/1 1 0/1";
     equal(result, answer);

     var result = RiTa.getStresses("to present, to export, to decide, to begin");
     var answer = "1 0/1 1 0/1 1 0/1 1 0/1";
     equal(result, answer);

     var result = RiTa.getStresses("");
     var answer = "";
     equal(result, answer);

 });

/*
 test("RiTa.getStressesAt()", function () {

     var result = RiTa.getStressesAt("The emperor had no clothes on.", 1);
     var answer = "1";
     equal(result, answer);

     var result = RiTa.getStressesAt("The emperor had no clothes on. The King is fat.", 0);
     var answer = "0";
     deepEqual(result, answer);

     var result = RiTa.getStressesAt("to preSENT, to exPORT, to deCIDE, to beGIN", 500);
     var answer = "";
     deepEqual(result, answer);

     var result = RiTa.getStressesAt("to present, to export, to decide, to begin", -1);
     var answer = "";
     deepEqual(result, answer);

     var result = RiTa.getStressesAt("");
     var answer = "";
     equal(result, answer);

     var result = RiTa.getStressesAt(null);
     var answer = "";
     equal(result, answer);

     var result = RiTa.getStressesAt(undefined);
     var answer = "";
     equal(result, answer);


 });
  */
 
 test("RiTa.getSyllables()", function () {

     var txt = "The emperor had no clothes on.";
     var result = RiTa.getSyllables(txt);
     var answer = "dh-ax eh-m-p/er/er hh-ae-d n-ow k-l-ow-dh-z aa-n";
     equal(result, answer);
     
     var txt = "The emperor had no clothes on.";
     var result = RiTa.getSyllables(txt.split(' '));
     equal(result, answer);

     var result = RiTa.getSyllables("@#$%&*()");
     var answer = "";
     equal(result, answer);

     var result = RiTa.getSyllables("");
     var answer = "";
     equal(result, answer);

 });
    
     test("RiTa.getSyllables()", function () {
    
         var txt = "The emperor had no clothes on.";
         var result = RiTa.getSyllables(txt);
         var answer = "dh-ax eh-m-p/er/er hh-ae-d n-ow k-l-ow-dh-z aa-n";
         equal(result, answer);
    
         var txt = "The emperor had no clothes on.";
         var result = RiTa.getSyllables(txt);
         equal(result, answer);
    
         var result = RiTa.getSyllables("@#$%&*()");
         var answer = "";
         equal(result, answer);
    
         var result = RiTa.getSyllables("");
         var answer = "";
         equal(result, answer);
    
     });



  test("RiTa.getWordCount()", function () {

      var result = RiTa.getWordCount("123 1231 hi");
      deepEqual(result, 3);

      var result = RiTa.getWordCount("The boy screamed, 'Where is my apple?'");
      deepEqual(result, 10);

      var result = RiTa.getWordCount("one two three.");
      deepEqual(result, 4);

      var result = RiTa.getWordCount("I guess the dog ate the baby.");
      deepEqual(result, 8);

      var result = RiTa.getWordCount("Oh my god, the dog ate the baby!");
      deepEqual(result, 10);

      var result = RiTa.getWordCount("Which dog ate the baby?");
      deepEqual(result, 6);

      var result = RiTa.getWordCount("\'Yes, it was a dog that ate the baby\', he said.");
      deepEqual(result, 15);


  });

  test("RiTa.posToWordNet()", function () {

      var result = RiTa.posToWordNet("nn");
      equal("n", result);

      var result = RiTa.posToWordNet("nns");
      equal("n", result);

      var result = RiTa.posToWordNet("vbz");
      equal("v", result);

      var result = RiTa.posToWordNet("vbz!");
      equal("-", result);

      var result = RiTa.posToWordNet("aa");
      equal("-", result);

      var result = RiTa.posToWordNet("rb");
      equal("r", result);

      var result = RiTa.posToWordNet("rb "); //space
      equal("-", result);

      var result = RiTa.posToWordNet(" rb "); //space
      equal("-", result);

      var result = RiTa.posToWordNet(" rb  "); //double space
      equal("-", result);

      var result = RiTa.posToWordNet("  rb"); //double space
      equal("-", result);

      var result = RiTa.posToWordNet("rb	"); //tab space
      equal("-", result);

      var result = RiTa.posToWordNet("	rb"); //tab space
      equal("-", result);

      var result = RiTa.posToWordNet("");
      equal("", result);

 
  });

  //---From RiConjugator---
  test("RiTa.conjugate", function () {

  ///////////////////////////////////////////////////////////////////////////
      
      // TODO: Check against RiTa-java (why are these all doubling?)
      
      var args = {
          tense: RiTa.PRESENT_TENSE,
          number: RiTa.SINGULAR,
          person: RiTa.THIRD_PERSON
      };
      
      s = ["swim", "need", "open"];
      a = ["swims", "needs", "opens"];
      
      //ok(a.length === s.length);
      for (var i = 0; i < s.length; i++) {
          c = RiTa.conjugate(s[i], args);
          equal(c, a[i]);
      }
      
      var args = {
          tense: RiTa.PRESENT_TENSE,
          passive: true,
          actualModal: false
      };
      
      a = ["be swum", "be needed", "be opened", ""];
      //ok(a.length === s.length);
      for (var i = 0; i < s.length; i++) {
          c = RiTa.conjugate(s[i], args);
          equal(c, a[i]);
      }
      
      var args = {
          tense: RiTa.PAST_TENSE,
          number: RiTa.SINGULAR,
          person: RiTa.THIRD_PERSON
      };
      
      /////////////////////////////////////////////////
      
      var args = {
          number: RiTa.SINGULAR,
          person: RiTa.FIRST_PERSON,
          tense: RiTa.PAST_TENSE
      };
      
      var c = RiTa.conjugate("swim", args);
      equal(c, "swam");
      
      var s = ["swim", "need", "open",  ""];
      var a = ["swam", "needed", "opened", ""];
      
      ok(a.length === s.length);
      
      for (var i = 0; i < s.length; i++) {
          var c = RiTa.conjugate(s[i], args);
          equal(c, a[i]);
      }
        
      equal("swum", RiTa.getPastParticiple("swim"));
      
      var args = {
          number: RiTa.PLURAL,
          person: RiTa.SECOND_PERSON,
          tense: RiTa.PAST_TENSE
      };
      
      var a = ["swam", "needed", "opened", ""];
      ok(a.length === s.length);
      
      
      for (var i = 0; i < s.length; i++) {
          var c = RiTa.conjugate(s[i], args);
          equal(c, a[i]);
      }

      var args = {
          number: RiTa.PLURAL,
          person: RiTa.SECOND_PERSON,
          tense: RiTa.FUTURE_TENSE
      };
      a = ["will swim", "will need", "will open", ""];
      ok(a.length === s.length);

      for (var i = 0; i < s.length; i++) {
          c = RiTa.conjugate(s[i], args);
          equal(c, a[i]);
      }

      var args = {
          tense: RiTa.PAST_TENSE,
          number: RiTa.SINGULAR,
          person: RiTa.THIRD_PERSON
      };
      a = ["swam", "needed", "opened", ""];
      ok(a.length === s.length);
      for (var i = 0; i < s.length; i++) {
          c = RiTa.conjugate(s[i], args);
          equal(c, a[i]);
      }

      var args = {
          tense: RiTa.PAST_TENSE,
          number: RiTa.SINGULAR,
          person: RiTa.THIRD_PERSON,
          form: RiTa.INFINITIVE
      };
      a = ["to swim", "to need", "to open", ""];
      ok(a.length === s.length);
      for (var i = 0; i < s.length; i++) {
          c = RiTa.conjugate(s[i], args);
          equal(c, a[i]);
      }

      var args = {
          tense: RiTa.PAST_TENSE,
          number: RiTa.SINGULAR,
          person: RiTa.THIRD_PERSON,
          passive: true
      };
      a = ["swam", "needed", "opened", ""];
      ok(a.length === s.length);
      for (var i = 0; i < s.length; i++) {
          c = RiTa.conjugate(s[i], args);
          equal(c, a[i]);
      }

      var args = {
          tense: RiTa.PRESENT_TENSE,
          number: RiTa.SINGULAR,
          person: RiTa.THIRD_PERSON,
          form: RiTa.INFINITIVE,
          progressive: true
      };
      a = ["to be swimming", "to be needing", "to be opening", ""];
      ok(a.length === s.length);
      for (var i = 0; i < s.length; i++) {
          c = RiTa.conjugate(s[i], args);
          equal(c, a[i]);
      }

      var args = {
          tense: RiTa.PRESENT_TENSE,
          number: RiTa.SINGULAR,
          person: RiTa.THIRD_PERSON,
          form: RiTa.INFINITIVE,
          perfect: true
      };
      a = ["to have swum", "to have needed", "to have opened", ""];
      ok(a.length === s.length);
      for (var i = 0; i < s.length; i++) {
          c = RiTa.conjugate(s[i], args);
          equal(c, a[i]);
      }

      var args = {
          number: RiTa.PLURAL,
          person: RiTa.SECOND_PERSON,
          tense: RiTa.PAST_TENSE
      };
      equal(RiTa.conjugate("barter", args), "bartered");
      equal(RiTa.conjugate("run", args), "ran");
      
      s = ["compete", "complete", "eject"];
      a = ["competed","completed","ejected"];
      ok(a.length === s.length);
      for (var i = 0; i < s.length; i++) {
          c = RiTa.conjugate(s[i], args);
          equal(c, a[i]);
      }
  });

  test("RiTa.getPastParticiple()", function () { //failed becasue of stem() is not implemented
      equal(RiTa.getPastParticiple("swim"), "swum");
      equal(RiTa.getPastParticiple("run"), "ran"); // TODO: check this one!
      equal(RiTa.getPastParticiple("awake"), "awoken");
      equal(RiTa.getPastParticiple("become"), "become");
      equal(RiTa.getPastParticiple("cut"), "cut");
      equal(RiTa.getPastParticiple("go"), "gone");
      equal(RiTa.getPastParticiple("went"), "gone");
      equal(RiTa.getPastParticiple("study"), "studied");

      equal(RiTa.getPastParticiple("gone"), "gone");
      equal(RiTa.getPastParticiple("go^&"), "");

      equal(RiTa.getPastParticiple("study "), "studied"); //space  
      equal(RiTa.getPastParticiple(" study"), "studied"); //space
      equal(RiTa.getPastParticiple("study  "), "studied"); //double space  
      equal(RiTa.getPastParticiple("  study"), "studied"); //double space
      equal(RiTa.getPastParticiple("study	"), "studied"); //tab space  
      equal(RiTa.getPastParticiple("	study"), "studied"); //tab space
      equal(RiTa.getPastParticiple(""), "");

  });


  test("RiTa.getPresentParticiple()", function () { //failed becasue of stem() is not implemented
      equal(RiTa.getPresentParticiple("swim"), "swimming");
      equal(RiTa.getPresentParticiple("run"), "running");
      equal(RiTa.getPresentParticiple("lie"), "lying");
      equal(RiTa.getPresentParticiple("dig"), "digging");
      equal(RiTa.getPresentParticiple("set"), "setting");
      equal(RiTa.getPresentParticiple("speak"), "speaking");

      equal(RiTa.getPresentParticiple("bring"), "bringing");
      equal(RiTa.getPresentParticiple("brings"), "bringing");

      equal(RiTa.getPresentParticiple("spoke"), "speaking");
      equal(RiTa.getPresentParticiple("go^&"), "");

      equal(RiTa.getPresentParticiple("study "), "studying"); //space  
      equal(RiTa.getPresentParticiple(" study"), "studying"); //space
      equal(RiTa.getPresentParticiple("study  "), "studying"); //double space  
      equal(RiTa.getPresentParticiple("  study"), "studying"); //double space
      equal(RiTa.getPresentParticiple("study	"), "studying"); //tab space  
      equal(RiTa.getPresentParticiple("	study"), "studying"); //tab space
      equal(RiTa.getPresentParticiple(""), "");

       });
    
  test("RiTa.stem(lancaster)", function () { 
        
        var type = 'Lancaster';
        
        var tests = ["run", "runs", "running"];
        for (var i = 0; i < tests.length; i++) {
            equal(RiTa.stem(tests[i],type), "run");
        }
   
        equal(RiTa.stem("gases",type), "gas");
        equal(RiTa.stem("buses",type), "bus");
        equal(RiTa.stem("happiness",type), "happy");
        equal(RiTa.stem("terrible",type), "terr");

        var test = 'Stemming is funnier than a bummer says the sushi loving computer';
        var result = 'stem is funny than a bum say the sush lov comput';
        equal(RiTa.stem(test,type), result);
    });
    
    test("RiTa.stem(porter)", function () {
        
        var type = 'Porter';
        
        var tests = ["run", "runs", "running"];
        for (var i = 0; i < tests.length; i++) {
            equal(RiTa.stem(tests[i],type), "run");
        }
   
        equal(RiTa.stem("gases",type), "gase");
        equal(RiTa.stem("buses",type), "buse");
        equal(RiTa.stem("happiness",type), "happi");
        equal(RiTa.stem("terrible",type), "terribl");

        var test = 'Stemming is funnier than a bummer';
        var result = 'Stem is funnier than a bummer'; 
        equal(RiTa.stem(test,type), result);
    });
           
    
    //---From RiPluralizer---   
    test("RiTa.pluralize()", function () { 
        
        //From RiTa docsReturns the regular or irregular plural form of noun.

        equal("dogs", RiTa.pluralize("dog"));
        equal("feet", RiTa.pluralize("foot"));
        equal("men", RiTa.pluralize("man"));
        equal("mice", RiTa.pluralize("mouse"));//wrong
        equal("beautifuls", RiTa.pluralize("beautiful")); 
        equal("teeth", RiTa.pluralize("tooth"));
        equal("cakes", RiTa.pluralize("cake"));
        equal("kisses", RiTa.pluralize("kiss"));
        equal("children", RiTa.pluralize("child"));
        equal("", RiTa.pluralize(""));

      

    });

    test("RiTa.pluralize()", function () { //From RiTa docsReturns the regular or irregular plural form of noun. Note: this method requires a pre-stemmed noun (see RiStemmer) for proper function.

        equal("dogs", RiTa.pluralize("dog"));
        equal("feet", RiTa.pluralize("foot"));
        equal("men", RiTa.pluralize("man"));
        equal("mice", RiTa.pluralize("mouse"));//wrong
        equal("beautifuls", RiTa.pluralize("beautiful")); 
        equal("teeth", RiTa.pluralize("tooth"));
        equal("cakes", RiTa.pluralize("cake"));
        equal("kisses", RiTa.pluralize("kiss"));
        equal("children", RiTa.pluralize("child"));
        equal("", RiTa.pluralize(""));

    });

    test("RiTa.singularize()", function () { 
    	
        equal("dog", RiTa.singularize("dogs"));
        equal("foot", RiTa.singularize("feet"));
        equal("man", RiTa.singularize("men"));
        equal("mouse", RiTa.singularize("mice"));//wrong
        equal("", RiTa.singularize("beautifuls")); 
        equal("tooth", RiTa.singularize("teeth"));
        equal("cake", RiTa.singularize("cakes"));
        equal("kiss", RiTa.singularize("kisses"));
        equal("child", RiTa.singularize("children"));
        equal("", RiTa.singularize(""));

        });

	test("RiTa.timer()", function () { //TODO
    	
        equal("", RiTa.timer("dogs"));
    });
	
   //TODO random is repeated in API
	    
    test("RiTa.p5Compatible()", function () { //TODO
    	
        equal(RiTa.p5Compatible(1), "need more detailed test");
		equal(RiTa.p5Compatible(0), "need more detailed test");
    	

    });
	
	test("RiTa.untokenize()", function () { 
        equal(RiTa.untokenize(["need more detailed test"]),"need more detailed test");
		equal(RiTa.untokenize(["need more", "detailed test"]), "need more detailed test");
		equal(RiTa.untokenize(["need more, detailed test!"]),"need more, detailed test!");
		equal(RiTa.untokenize(["need more,", "detailed test!"]),"need more, detailed test!");
		equal(RiTa.untokenize(["need", "more,", "detailed test!"]),"need more, detailed test!");
		equal(RiTa.untokenize(["need ", " more,", "detailed test! "]),"need   more, detailed test! ");
		equal(RiTa.untokenize([""]),"");

     
    });
    
    test("RiTa.LTSEngine", function () {

        //getPhonemes
        var result = RiTa.getPhonemes("asdfgasdasdasdasdsadasf");
        var answer = "ae-s-d-f-g-ax-s-d-ae-s-d-ae-s-d-ae-s-d-s-ao-d-ae-s-f";
        equal(result, answer);
        
        var result = RiTa.getPhonemes("HTERE ^%&*^ IS ^(*^*() fsfa");
        var answer = "t-ih-r     ih-z      f-s-f-ax";
        equal(result, answer);

        //getStresses
        var result = RiTa.getStresses("deMOcracy, dependaBIlity, phoTOgraphy, geOLogy");
        var answer = "0/1/0/0  0/1/0/1/0/0  0/1/0/0  0/1/0/0";
        equal(result, answer);

        var result = RiTa.getStresses("123213");
        var answer = "1 1/0 1/0 1 1/0 1 1/0 1/1";
        equal(result, answer);

        var result = RiTa.getStresses("@#$%^&*()");
        var answer = "";
        equal(result, answer);

        var result = RiTa.getStresses("asdfgasdasdasdasdsadasf");
        var answer = "1/0/1/1/1/1/1";
        equal(result, answer);

        var result = RiTa.getStresses("HTERE ^%&*^ IS ^(*^*() fsfa");
        var answer = "1     1      0";
        equal(result, answer);

        //getSyllables
        var result = RiTa.getSyllables("one two three four five"); // numbers are not working also
        var answer = "w-ah-n t-uw t-iy f-ao-r f-ay-v";
        equal(result, answer);

        var result = RiTa.getSyllables("The three emperor had no clothes on.");
        var answer = "dh-ax t-iy eh-m-p/er/er hh-ae-d n-ow k-l-ow-dh-z aa-n";
        equal(result, answer);

        var result = RiTa.getSyllables("The 3 emperor had no clothes on.");
        var answer = "dh-ax t-iy eh-m-p/er/er hh-ae-d n-ow k-l-ow-dh-z aa-n";
        equal(result, answer);

        var result = RiTa.getSyllables("The 3 emperor! Had no clothes, on.");
        var answer = "dh-ax t-iy eh-m-p/er/er hh-ae-d n-ow k-l-ow-dh-z aa-n";
        equal(result, answer);

        var result = RiTa.getSyllables("123123");
        var answer = "w-ah-n hh-ah-n-d/r-ax-d t-w-eh-n-t/iy t-iy th-aw-s/ax-n-d w-ah-n hh-ah-n-d/r-ax-d t-w-eh-n-t/iy t-iy";
        equal(result, answer);

        var result = RiTa.getSyllables("asdfgasdasdasdasdsadasf");
        var answer = "ae-s-d-f/g-ax-s/d-ae-s/d-ae-s/d-ae-s-d-s/ao-d/ae-s-f";
        equal(result, answer);

        var result = RiTa.getSyllables("HTERE ^%&*^ IS ^(*^*() fsfa");
        var answer = "t-ih-r     ih-z      f-s-f-ax";
        equal(result, answer);

    });


  
    /*
		        test("RiTa.isStopWord()", function () {

		            ok(!RiTa.isStopWord("Usually, but not always, it consists of a letter or group of letters taken from the word or phrase."));
		            ok(!RiTa.isStopWord("Usually,"));
		            ok(RiTa.isStopWord("he"));
		            ok(RiTa.isStopWord("is"));
		            ok(RiTa.isStopWord("at"));
		            ok(RiTa.isStopWord("at"));
		            ok(RiTa.isStopWord("which"));
		            ok(RiTa.isStopWord("on"));

		            ok(RiTa.isStopWord("on ")); //space
		            ok(RiTa.isStopWord(" on")); //space
		            ok(RiTa.isStopWord("on  ")); //double space
		            ok(RiTa.isStopWord("  on")); //double space
		            ok(RiTa.isStopWord("on	")); //tab space
		            ok(RiTa.isStopWord("	on")); //tab space

		            ok(!RiTa.isStopWord(""));
		            ok(!RiTa.isStopWord(null));
		            ok(!RiTa.isStopWord(undefined));

		        });


		        test("RiTa.posTag()", function () {
		            var result = RiTa.posTag(["mother", "father", "fat", "haha", "girl", "girly", "good", "goods"]);
		            var answer = ["nn", "nn", "jj", "nn", "nn", "rb", "jj", "nns"];
		            equal(result, answer);

		            var result = RiTa.posTag([""]);
		            var answer = [""]; //processing rita output "cd"
		            equal(result, answer);

		            var result = RiTa.posTag(null);
		            var answer = [""];
		            equal(result, answer);

		            var result = RiTa.posTag(undefined);
		            var answer = [""];
		            equal(result, answer);
		        });
     */

   
    /*
		    test("RiTa.getPhonemesAt()", function () { //TODO
		        var result = RiTa.getPhonemesAt();
		        var answer = "TODO";
		        deepEqual(result, answer);

		    });


		        test("RiTa.getPos()", function () {

		            var result = RiTa.getPos("asdfaasd");
		            var answer = ["nn"];
		            deepEqual(result, answer);

		            var result = RiTa.getPos("clothes");
		            var answer = ["nns"];
		            deepEqual(result, answer);

		            var result = RiTa.getPos("There is a cat.");
		            var answer = ["ex", "vbz", "dt", "nn", "."];
		            deepEqual(result, answer);

		            var result = RiTa.getPos("The boy, dressed in red, ate an apple.");
		            var answer = ["dt", "nn", ",", "vbn", "in", "jj", ",", "vbd", "dt", "nn", "."];
		            deepEqual(result, answer);

		            var result = RiTa.getPos("");
		            var answer = [];
		            equal(result, answer);

		            var result = RiTa.getPos(null);
		            var answer = [];
		            equal(result, answer);

		            var result = RiTa.getPos(undefined);
		            var answer = [];
		            equal(result, answer);

		        });

		        test("RiTa.getPosAt()", function () {

		            var result = RiTa.getPosAt("The emperor had no clothes on.", 4);
		            var answer = "nns";
		            deepEqual(result, answer);

		            var result = RiTa.getPosAt("There is a cat.", 3);
		            var answer = "nn";
		            deepEqual(result, answer);

		            var result = RiTa.getPosAt("The emperor had no clothes on.", 54);
		            var answer = "";
		            deepEqual(result, answer);

		            var result = RiTa.getPosAt("The emperor had no clothes on.", -4);
		            var answer = "";
		            deepEqual(result, answer);

		            var result = RiTa.getPosAt("", 0);
		            var answer = "";
		            deepEqual(result, answer);

		            var result = RiTa.getPosAt("");
		            var answer = "";
		            deepEqual(result, answer);

		            var result = RiTa.getPosAt(null);
		            var answer = "";
		            deepEqual(result, answer);

		            var result = RiTa.getPosAt(undefined);
		            var answer = "";
		            deepEqual(result, answer);


		        });
     */


    /*
		    test("RiTa.getText()", function () {

		        var result = RiTa.getText("TODO");
		        var answer = "";
		        deepEqual(result, answer);

		    });

		    test("RiTa.getTokens()", function () {


		        var input = "The boy, dressed in red, ate an apple.";
		        var expected = ["The", "boy", "dressed", "in", "red", "ate", "an", "apple"];
		        var output = RiTa.getTokens(input);
		        deepEqual(output, expected);

		        var input = "The boy screamed, 'Where is my apple?'";
		        var expected = ["The", "boy", "screamed", "Where", "is", "my", "apple"];
		        var output = RiTa.getTokens(input);
		        deepEqual(output, expected);

		        var input = "why? Me?huh?!";
		        var expected = ["why", "Me", "huh"];
		        var output = RiTa.getTokens(input);
		        deepEqual(output, expected);

		        var input = "Dr.Chan is talking slowly with Mr.Cheng, and they're friends.";
		        var expected = ["Dr", "Chan", "is", "talking", "slowly", "with", "Mr", "Cheng", "and", "they", "re", "friends", ];
		        var output = RiTa.getTokens(input);
		        deepEqual(output, expected); //TODO special case
		        var input = "123 123 1 2 3 1,1 1.1 23.45.67 22/05/2012 12th May,2012";
		        var expected = ["123", "123", "1", "2", "3", "1", "1", "1.1", "23.45.67", "22/05/2012", "12th", "May", "2012"];
		        var output = RiTa.getTokens(input);
		        deepEqual(output, expected);

		            // TODO: check Penn-Treebank tokenizer rules
		            var inputs = ["A simple sentence.", "that's why this is our place).", "McDonald's - it cannot happen", "McDonald's, it cannot happen", "2"];
		            var outputs = [
		                ["A", "simple", "sentence", "."],
		                ["that's,", "why", "this", "is", "our", "place)."],
		                ["?"],
		                ["?"],
		                ["2"]
		            ];
		            var output = RiTa.getTokens(input);
		            deepEqual(output, expected);


		    });

		        test("RiTa.rhymeScheme()", function () {

		            var result = RiTa.rhymeScheme();
		            var answer = "";
		            deepEqual(result, answer);

		         
		        });

		        test("RiTa.tokenAt()", function () {

		            var result = RiTa.tokenAt();
		            var answer = "";
		            deepEqual(result, answer);

		 

		        });
     */
   
    //---From RiPosTagger---
    /*
		    test("RiTa.tagForWordNet()", function () {

		        var result = RiTa.tagForWordNet(["The", "teenage", "boy", ",", "stricken", " with", "fear", ",", "cried", "sadly", "like", "a", "little", "baby"]);
		        var answer = ["-", "a", "n", "-", "v", "n", "n", "-", "v", "r", "-", "-", "a", "n"];
		        deepEqual(result, answer);

		        var result = RiTa.tagForWordNet(["213", "2.3", "14/50", "#$%^&*&", "photo.jpg"]);
		        var answer = ["-", "-", "n", "n", "n"];
		        deepEqual(result, answer);

		        var result = RiTa.tagForWordNet([""]);
		        var answer = [""];
		        deepEqual(result, answer);

		        var result = RiTa.tagForWordNet("");
		        var answer = [""];
		        deepEqual(result, answer);

		        var result = RiTa.tagForWordNet(null);
		        var answer = [""];
		        deepEqual(result, answer);

		        var result = RiTa.tagForWordNet(undefined);
		        var answer = [""];
		        deepEqual(result, answer);

		     

		    });
     */
    
    
   });
</script>
</head>

<body>
<h1 id="qunit-header">RiTa tests</h1>
<h2 id="qunit-banner"></h2>
<div id="qunit-testrunner-toolbar"></div>
<h2 id="qunit-userAgent"></h2>
<ol id="qunit-tests"></ol>
<div id="qunit-fixture">test markup, will be hidden</div>
<p>&nbsp; &nbsp;
<a href="../rita-api.html"><img src="imgs/rita-loading.gif" width=40></a>
</body>

</html>