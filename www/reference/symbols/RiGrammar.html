<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="generator" content="JsDoc Toolkit" />
		
		<title>JsDoc Reference - RiGrammar</title>
		 <link rel="stylesheet" href="../../css/bootstrap.css" type="text/css" />
		    <link rel="stylesheet" href="../../css/syntax.css" type="text/css" />
		    <link rel="stylesheet" href="../../css/style.css" type="text/css" />
		    <link rel="shortcut icon" type="image/x-icon" href="http://rednoise.org/rita/rita.ico"/>
		    
		    <script src="../../js/processing.min.js" type="text/javascript"></script>
		    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
		    <script type="text/javascript" src="../../mailto.js"></script>
		    <script type="text/javascript">
		      // Only do tracking on the actual site
		      if (document.location.host === "processingjs.org") {
		        var _gaq = _gaq || [];
		        _gaq.push(['_setAccount', 'UA-8565070-1']);
		        _gaq.push(['_trackPageview']);
		        (function() {
		          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		        }());
		      }
		    </script>
	</head>

	<body>
<!-- ============================== header ================================= -->	
		<!-- begin static/header.html -->
		<div id="header">
</div>
		<!-- end static/header.html -->
		
		
		
		
		
		
		
		
		
			<div class="container">
		      <div class="header">
		        <a href="../../index.html"><img src="../../img/RiTa-logo3.png" width="60" height="60"></a>
		      </div>
		      <span class="tagline">a software toolkit for generative literature</span>
		          <div class="navbar">
			        <canvas width="940px" height="78px" data-processing-sources="../../RiTaBanner.pde"></canvas>

			        <ul>
			          <li><a href="../../index.html"><span>home</span></a></li>
			          <li><a href="../../download/index.html"><span>download</span></a></li>
			          <li><a href="./../index.html" class="selected"><span>reference</span></a></li>
			         <!-- <li><a href="../../exhibition/index.html"><span>exhibition</span></a></li> -->
			          <li><a href="../../example/index.html"><span>example</span></a></li>
				      <li><a href="../../tutorial/index.html"><span>tutorial</span></a></li>
			          <li>
			            <script language="JavaScript">InsertMailToTag("daniel.c.howe", "gmail.com");</script>
			          </li>
			        </ul>
			        <a class="viewsource" href="../../RiTaBanner.pde">view source</a> 
			</div>
		      <div class="page row">
			
			
			
				 <div class="refbar span3">
			        <div id="index">
						<!-- begin publish.classesIndex -->
						<div align="center"><a href="../index.html">Class Index</a></div>
<!--| <a href="../files.html">File Index</a></div-->
<hr />
<h3>Classes</h3>
<ul class="classList">
	
	<li><a href="../symbols/_global_.html">_global_</a></li>
	
	<li><a href="../symbols/RiGrammar.html">RiGrammar</a></li>
	
	<li><a href="../symbols/RiLexicon.html">RiLexicon</a></li>
	
	<li><a href="../symbols/RiMarkov.html">RiMarkov</a></li>
	
	<li><a href="../symbols/RiString.html">RiString</a></li>
	
	<li><a href="../symbols/RiTa.html">RiTa</a></li>
	
	<li><a href="../symbols/RiTaEvent.html">RiTaEvent</a></li>
	
	<li><a href="../symbols/RiText.html">RiText</a></li>
	
</ul>
<hr />
						<!-- end publish.classesIndex -->
					</div>

			        </div>
			
		        <div class="span12">

		<h2>Reference</h2>
		<div class="reference row">
		
		
		
		
		
		
		
		
		
		
		
		
		

<!-- ============================== classes index ============================ -->

		
		<div id="content">
<!-- ============================== class title ============================ -->
			<h1 class="classTitle">
				
				Class RiGrammar
			</h1>

<!-- ============================== class summary ========================== -->			
			<p class="description">
				
				
			
				A probabilistic context-free grammar with literary extensions designed for text-generation
<pre> 
		rg = new RiGrammar("mygrammar.g");
		System.out.println(rg.expand());

		</pre>

RiTa grammar files are JSON-formatted text files that follow the format below:
 <pre>   

		  "&lt;start&gt;": "&lt;rule1&gt; | &lt;rule2&gt; | &lt;rule3&gt;"
	
		  "&lt;rule2&gt;": "terminal1 |  terminal2 | &lt;rule1&gt;"
		
		   ...
		</pre>   
<b>Primary methods of interest:</b>
<ul>
<li><code>expand()</code> which simply begins at the &lt;start&gt; state and 
generates a string of terminals from the grammar.<p>
<li><code>expandFrom(String)</code> which begins with the argument
String (which can consist of both non-terminals and terminals,) 
and expands from there. Notice that <code>expand()</code> is simply
a convenient version of <code>expandFrom("&lt;start&gt;");</code>.<p>
<li><code>expandWith(String, String)</code> takes 2 String arguments, the 1st 
(a terminal) is guaranteed to be substituted for the 2nd (a non-terminal). Once this 
substitution is made, the algorithm then works backwards (up the tree from the leaf)
ensuring that the terminal (terminal1) appears in the output string. 
For example, with the grammar fragment above, one might call:<p>
	   <pre>
			grammar.expandWith(terminal1, "&lt;rule2&gt;");
	  </pre>
assuring not only that <code>&lt;rule2&gt;</code>will be used at least 
once in the generation process, but that when it is, it will be replaced 
by the terminal "hello".
</ul>

<li>A RiGrammar object will assign (by default) equal weights to all choices in a rule. 
One can adjust the weights by adding 'multipliers' as follows: (in the rule below,
'terminal1' will be chosen twice as often as the 2 other choices.
<pre>   
		 "&lt;rule2&gt;": "[2] terminal1 | terminal2 | &lt;rule1&gt;" 
	   </pre>
<li>The RiGrammar object supports callbacks, from your grammar, back into your code.
To generate a callback, add the method call in your grammar, surrounded by back-ticks, as follows:
<pre>   
    
      "&lt;rule2&gt;": "The cat ran after the `pluralize('cat');` | \
      The &lt;noun&gt; ran after the `pluralize(&lt;noun&gt;);`" 
    </pre>
    
Any number of arguments may be passed in a callback, but for each call,
there must be a corresponding method in the sketch, e.g.,

<pre>
   function pluralize(theString) {
     ...
   }
</pre>
				
				
					<br /><i>Defined in: </i> <a href="../symbols/src/src_rita.js.html">rita.js</a>.
				
			</p>

<!-- ============================== constructor summary ==================== -->			
			
			<table class="summaryTable" cellspacing="0" summary="A summary of the constructor documented in the class RiGrammar.">
				<caption>Class Summary</caption>
				<thead>
					<tr>
						<th scope="col">Constructor Attributes</th>
						<th scope="col">Constructor Name and Description</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="attributes">&nbsp;</td>
						<td class="nameDescription" >
							<div class="fixedFont">
								<b><a href="../symbols/RiGrammar.html#constructor">RiGrammar</a></b>()
							</div>
							<div class="description"></div>
						</td>
					</tr>
				</tbody>
			</table>
			

<!-- ============================== properties summary ===================== -->
			

<!-- ============================== methods summary ======================== -->
			
				
				
				<table class="summaryTable" cellspacing="0" summary="A summary of the methods documented in the class RiGrammar.">
					<caption>Method Summary</caption>
					<thead>
						<tr>
							<th scope="col">Method Attributes</th>
							<th scope="col">Method Name and Description</th>
						</tr>
					</thead>
					<tbody>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/RiGrammar.html#addRule">addRule</a></b>(name, ruleStr, weight)
								</div>
								<div class="description">Adds a rule to the existing grammar, replacing any existing rule with the same name</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/RiGrammar.html#expand">expand</a></b>(One)
								</div>
								<div class="description">Expands a grammar from its '<start>' symbol</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/RiGrammar.html#expandFrom">expandFrom</a></b>(rule)
								</div>
								<div class="description">Expands the grammar, starting from the given symbol.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/RiGrammar.html#expandWith">expandWith</a></b>(literal, symbol)
								</div>
								<div class="description">Expands the grammar after replacing an instance of the non-terminal
'symbol' with the String in 'literal'.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/RiGrammar.html#getRule">getRule</a></b>(rule)
								</div>
								<div class="description">Returns the requested rule</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/RiGrammar.html#hasRule">hasRule</a></b>(the)
								</div>
								<div class="description">Returns true if the requested rule exists in the grammar, else false</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/RiGrammar.html#init">init</a></b>(grammar)
								</div>
								<div class="description">Initializes a grammar, optionally accepting an object or JSON string containing the rules</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/RiGrammar.html#print">print</a></b>()
								</div>
								<div class="description">Prints the grammar rules to the console in human-readable format (useful for debugging)</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/RiGrammar.html#removeRule">removeRule</a></b>(name)
								</div>
								<div class="description">Deletes the named rule from the grammar</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/RiGrammar.html#reset">reset</a></b>()
								</div>
								<div class="description">Clears all rules in the current grammar</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/RiGrammar.html#setGrammar">setGrammar</a></b>(grammar)
								</div>
								<div class="description">inits a grammar from an object or JSON string containing the rules (rather than a file)
and replacing any existing grammar.</div>
							</td>
						</tr>
					
					</tbody>
				</table>
				
				
				
			
<!-- ============================== events summary ======================== -->
			

<!-- ============================== constructor details ==================== -->		
			
			<div class="details"><a name="constructor"> </a>
				<div class="sectionTitle">
					Class Detail
				</div>
				
				<div class="fixedFont">
						<b>RiGrammar</b>()
				</div>
				
				<div class="description">
					
					<br /><i>Author: </i>dhowe.
				</div>
				
				
				
				
					
					
					
					
					
					
					

			</div>
			

<!-- ============================== field details ========================== -->		
			

<!-- ============================== method details ========================= -->		
			
				<div class="sectionTitle">
					Method Detail
				</div>
				
					<a name="addRule"> </a>
					<div class="fixedFont">
					
					<span class="light">{object}</span>
					<b>addRule</b>(name, ruleStr, weight)
					
					</div>
					<div class="description">
						Adds a rule to the existing grammar, replacing any existing rule with the same name
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>name</b>
									
								</dt>
								<dd></dd>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>ruleStr</b>
									
								</dt>
								<dd></dd>
							
								<dt>
									<span class="light fixedFont">{number}</span> <b>weight</b>
									
								</dt>
								<dd></dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{object}</span> this RiGrammar</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="expand"> </a>
					<div class="fixedFont">
					
					<span class="light">{string}</span>
					<b>expand</b>(One)
					
					</div>
					<div class="description">
						Expands a grammar from its '<start>' symbol
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>One</b>
									
								</dt>
								<dd>or more function to be added to the current context BEFORE 
executing the expand() call. Useful for defining functions referenced in back-ticked rules.</dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{string}</span> </dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="expandFrom"> </a>
					<div class="fixedFont">
					
					<span class="light">{string}</span>
					<b>expandFrom</b>(rule)
					
					</div>
					<div class="description">
						Expands the grammar, starting from the given symbol.
RiGrammar.expand() is equivalent to RiGrammar.expandFrom('').
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>rule</b>
									
								</dt>
								<dd></dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{string}</span> </dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="expandWith"> </a>
					<div class="fixedFont">
					
					<span class="light">{string}</span>
					<b>expandWith</b>(literal, symbol)
					
					</div>
					<div class="description">
						Expands the grammar after replacing an instance of the non-terminal
'symbol' with the String in 'literal'.
<P>
Guarantees that 'literal' will be in the final expanded String, 
assuming at least one instance of 'symbol' in the Grammar.
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<b>literal</b>
									
								</dt>
								<dd></dd>
							
								<dt>
									<b>symbol</b>
									
								</dt>
								<dd></dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{string}</span> expanded text</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="getRule"> </a>
					<div class="fixedFont">
					
					<span class="light">{string}</span>
					<b>getRule</b>(rule)
					
					</div>
					<div class="description">
						Returns the requested rule
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>rule</b>
									
								</dt>
								<dd>name</dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{string}</span> the rule</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="hasRule"> </a>
					<div class="fixedFont">
					
					<span class="light">{boolean}</span>
					<b>hasRule</b>(the)
					
					</div>
					<div class="description">
						Returns true if the requested rule exists in the grammar, else false
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>the</b>
									
								</dt>
								<dd>rule name</dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{boolean}</span> true if the rule exists in the grammar, else false</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="init"> </a>
					<div class="fixedFont">
					
					
					<b>init</b>(grammar)
					
					</div>
					<div class="description">
						Initializes a grammar, optionally accepting an object or JSON string containing the rules
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{none | string | object}</span> <b>grammar</b>
									
								</dt>
								<dd>containing the grammar rules</dd>
							
							</dl>
						
						
						
						
						
						
						

					<hr />
				
					<a name="print"> </a>
					<div class="fixedFont">
					
					<span class="light">{object}</span>
					<b>print</b>()
					
					</div>
					<div class="description">
						Prints the grammar rules to the console in human-readable format (useful for debugging)
						
						
					</div>
					
					
					
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{object}</span> this RiGrammar</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="removeRule"> </a>
					<div class="fixedFont">
					
					<span class="light">{object}</span>
					<b>removeRule</b>(name)
					
					</div>
					<div class="description">
						Deletes the named rule from the grammar
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<b>name</b>
									
								</dt>
								<dd></dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{object}</span> this RiGrammar</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="reset"> </a>
					<div class="fixedFont">
					
					<span class="light">{object}</span>
					<b>reset</b>()
					
					</div>
					<div class="description">
						Clears all rules in the current grammar
						
						
					</div>
					
					
					
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{object}</span> this RiGrammar</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="setGrammar"> </a>
					<div class="fixedFont">
					
					<span class="light">{object}</span>
					<b>setGrammar</b>(grammar)
					
					</div>
					<div class="description">
						inits a grammar from an object or JSON string containing the rules (rather than a file)
and replacing any existing grammar.
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{string | object}</span> <b>grammar</b>
									
								</dt>
								<dd>containing the grammar rules</dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{object}</span> this RiGrammar</dd>
							
							</dl>
						
						
						

					
				
			
			
<!-- ============================== event details ========================= -->		
			
			
			<hr />
		</div>














	</div>
	        </div>
	       
	      </div>
		
<!-- ============================== footer ================================= -->


	 <div class="footer">
	       <p> <br />
	      by Daniel C. Howe <br />
	      <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/us/" rel="license"> <img src="http://i.creativecommons.org/l/by-nc-sa/3.0/us/88x31.png" style="border-width:0" alt="Creative Commons License" /> </a></p>
	     </div>
	    </div>
	            <a href="https://github.com/dhowe/RiTaJS/">
	      <img style="position: absolute; top: 0; right: 0; border: 0;" src="../../img/forkme-right-orange.png" alt="Fork me on GitHub">

	    </a>
		
		
		
	
	</body>
</html>
