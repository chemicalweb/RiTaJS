<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- $Id: RiTaEvent-tests.html,v 1.6 2012/07/29 20:46:48 dev Exp $ -->
<head>
        <link rel="stylesheet" href="rita-test.css" type="text/css" media="screen"/>
        <script type="text/javascript" src="../../lib/jquery.js"></script>
        <script type="text/javascript" src="../../lib/qunit-git.js"></script>
        <script type="text/javascript" src="../rita.js"></script>
        <script type="text/javascript" src="../rita_dict.js"></script>
        <script>
        
        var functions =["_fire", "getSource", "getType" ];
        
            $(document).ready(function () {
                
                // TODO: add test for existence of all functions in api 
                
                test("RiTaEvent-functions", function () {
                              
                 var rm = new RiTaEvent(this);
                 for (var i = 0; i < functions.length; i++) {
                     equal(typeof rm[functions[i]], 'function', functions[i]);
                 }
      
              });
                
                test("RiTaEvent()", function () {
                    
                    ok(RiTaEvent(this));
                    ok(new RiTaEvent(this));
                    ok(RiTaEvent(this,"test"));
                    ok(new RiTaEvent(this,"test"));
                    
                    raises(function () {
                        try {
                            new RiTaEvent();
                        } catch (e) {
                            throw e;
                        }
                    });
                    
                    raises(function () {
                        try {
                            RiTaEvent();
                        } catch (e) {
                            throw e;
                        }
                    });
                    
                    var BAD = [null, undefined];

                    for (var i = 0; i < BAD.length; i++) {
                        raises(function () {
                            try {
                                new RiTaEvent(BAD[i]);
                            } catch (e) {
                                throw e;
                            }
                        },BAD[i]);
                        raises(function () {
                            try {
                                RiTaEvent(BAD[i]);                                
                            } catch (e) {
                                throw e;
                            }
                        }, BAD[i]);
                    }
                    
                });

				test("RiTaEvent.getSource()", function () {
				    
				    ok(RiTaEvent(this).getSource());
                    ok(new RiTaEvent(this).getSource());
                    ok(RiTaEvent(this,"test").getSource());
                    ok(new RiTaEvent(this,"test").getSource());            
                });
				
				test("RiTaEvent.getType()", function () {
		            ok(RiTaEvent(this).getType());
                    ok(new RiTaEvent(this).getType());
                    ok(RiTaEvent(this,"test").getType());
                    ok(new RiTaEvent(this,"test").getType());
                });
				
            });
            
        </script>
    </head>
    
    <body>
        <h1 id="qunit-header">RiTaEvent tests</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <div id="qunit-fixture">test markup, will be hidden</div>
        <p>&nbsp; &nbsp;
            <a href="../rita-api.html"><img src="imgs/rita-loading.gif" width=40></a>
    </body>

</html>