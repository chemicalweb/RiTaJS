<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<!-- $Id: RiLetterToSound-tests.html,v 1.3 2012/07/01 00:28:54 dev Exp $ -->

    <head>
        <link rel="stylesheet" href="rita-test.css" type="text/css" media="screen"/>
        <script type="text/javascript" src="../../lib/jquery.js"></script>
        <script type="text/javascript" src="../../lib/qunit-git.js"></script>
        
        <!--script type="text/javascript" src="../rita_dict.js"></script-->
        <script type="text/javascript" src="../rita04_lts.js"></script>
        <script type="text/javascript" src="../rita.js"></script>
        <script>
        
        $(document).ready(function () {

            test("RiLetterToSound()", function () {

                ok(RiLetterToSound());
                ok(new RiLetterToSound());  
                ok(LTS_RULES.length>1000);
            });
            
            test("RiLetterToSound.getPhones()", function () {
                
                var lts = new RiLetterToSound();
                
                var ph = lts.getPhones("dog");
                deepEqual(ph, ['d', 'aa1', 'g']);

                var ph = lts.getPhones("antelope", "n");
                deepEqual(ph, ['ae1', 'n', 't', 'ax', 'l', 'ow1', 'p'] );
            });
                

            test("RiLexicon.LTSEngine", function () {
                
                var lts = new RiLetterToSound();
                

                var result = lts.getPhones("asdfgasdasdasdasdsadasf");
                var answer = "ae-s-d-f-g-ax-s-d-ae-s-d-ae-s-d-ae-s-d-s-ao-d-ae-s-f";
                equal(result, answer);

                var result = lts.getPhones("HTERE ^%&*^ IS ^(*^*() fsfa");
                var answer = "";
                equal(result, answer);

                var result = lex._getStresses("deMOcracy, dependaBIlity, phoTOgraphy, geOLogy");
                var answer = "0/1/0/0 0/1/0/1/0/0 0/1/0/0 0/1/0/0";
                equal(result, answer);

                var result = lex._getStresses("123213");
                var answer = "1 1/0 1/0 1 1/0 1 1/0 1/1";
                equal(result, answer);

                var result = lex._getStresses("@#$%^&*()");
                var answer = "";
                equal(result, answer);

                var result = lex._getStresses("asdfgasdasdasdasdsadasf");
                var answer = "1/0/1/1/1/1/1";
                equal(result, answer);

                var result = lex._getStresses("HTERE ^%&*^ IS ^(*^*() fsfa");
                var answer = "";
                equal(result, answer);

                //getSyllables
                var lex = new RiLexicon();

                var result = lex._getSyllables("one two three four five"); // numbers are not working also
                var answer = "w-ah-n t-uw t-iy f-ao-r f-ay-v";
                equal(result, answer);

                var result = lex._getSyllables("The three emperor had no clothes on.");
                var answer = "dh-ax t-iy eh-m-p/er/er hh-ae-d n-ow k-l-ow-dh-z aa-n";
                equal(result, answer);

                var result = lex._getSyllables("The 3 emperor had no clothes on.");
                var answer = "dh-ax t-iy eh-m-p/er/er hh-ae-d n-ow k-l-ow-dh-z aa-n";
                equal(result, answer);

                var result = lex._getSyllables("The 3 emperor! Had no clothes, on.");
                var answer = "dh-ax t-iy eh-m-p/er/er hh-ae-d n-ow k-l-ow-dh-z aa-n";
                equal(result, answer);

                var result = lex._getSyllables("123123");
                var answer = "w-ah-n hh-ah-n-d/r-ax-d t-w-eh-n-t/iy t-iy th-aw-s/ax-n-d w-ah-n hh-ah-n-d/r-ax-d t-w-eh-n-t/iy t-iy";
                equal(result, answer);

                var result = lex._getSyllables("asdfgasdasdasdasdsadasf");
                var answer = "ae-s-d-f/g-ax-s/d-ae-s/d-ae-s/d-ae-s-d-s/ao-d/ae-s-f";
                equal(result, answer);

                var result = lex._getSyllables("HTERE ^%&*^ IS ^(*^*() fsfa");
                var answer = "";
                equal(result, answer);
            });
        });
        
        </script>
    </head>
    
    <body>
        <h1 id="qunit-header">RiLetterToSound tests</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <div id="qunit-fixture">test markup, will be hidden</div>
        <p>&nbsp; &nbsp;
            <a href="../rita-api.html"><img src="imgs/rita-loading.gif" width=40></a>
    </body>

</html>