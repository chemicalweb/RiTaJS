<script src="../../../lib/processing.js"></script>
<script src="../../../src/rita.js"></script>
<script src="haiku.js"></script>

<script type="text/processing" data-processing-target="mycanvas">

var grammar, rts = new Array();

void setup()
{
    size(650, 200);

    RiText.defaultFont(createFont("arial",30));  
    RiText.defaultAlignment(CENTER);

    rts[0] = RiText("click to", width / 2, 75);
    rts[1] = RiText("generate", width / 2, 110);
    rts[2] = RiText("a haiku", width / 2, 145); 

    grammar = RiGrammar(haikuGrammar);
}

void draw()
{
    background(230,240, 255);
    for (var k = 0; k < rts.length; k++)
        rts[k].draw();
}

void mouseClicked()
{
    var result = grammar.expand();
    var lines =  result.split("%");
    for (var i = 0; i < rts.length; i++) {
        rts[i].text(lines[i]);
    }
}


</script>
<canvas id="mycanvas" style="border: 1px solid #000000;"></canvas>
