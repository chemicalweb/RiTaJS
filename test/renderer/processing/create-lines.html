<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
</head>
<canvas id="mycanvas" style="border: 1px solid #000000;"></canvas>

<script src="../../../lib/processing.min.js"></script>
<script src="../../../src/rita.js"></script>
<script src="../../../src/ritext.js"></script>


<script type="text/processing" data-processing-target="mycanvas">

var x=90, y=50, w=380, h=500, font, rts, 
	txt = "A huge lizard was discovered drinking out of the fountain today. It was not menacing anyone, it was just very thirsty. A small crowd gathered and whispered to one another, as though the lizard would understand them if they spoke in normal voices. The lizard seemed not even a little perturbed by their gathering. It drank and drank, its long forked tongue was like a red river hypnotizing the people, keeping them in a trance-like state. 'It's like a different town,' one of them whispered. 'Change is good,' the other one whispered back.";

void setup() {

  size(600, 800);  
  
  RiText.defaults.paragraphLeading = 15;
  RiText.defaultFont("Georgia", 16);
  
  for (var i = 0; i < 1; i++)
    txt += "<p/>" + txt;  // specify some paragraphs
  
  mouseReleased();
}

void draw() {
    background(250);
    noFill();
    rect(x, y, w, h);
    RiText.drawAll();
}

void mousePressed() {
  x = mouseX;
  y = mouseY;
}

void mouseDragged() {
  w = abs(mouseX-x);
  h = abs(mouseY-y);
}

void mouseReleased() {
  RiText.disposeAll();
  rts = RiText.createLines(txt, x, y, w, h); 
  for ( var i = 0; i < rts.length(); i++) 
      rts[i].fill(RiText.randomColor()); 
}

</script>
</html>